

# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ (TypeORM)

## –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ CLI TypeORM. 
### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ts-node (—á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å TypeScript –ø—Ä—è–º–æ –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)  
### –∏ tsconfig-paths (–¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∞–ª–∏–∞—Å–æ–≤ –ø—É—Ç–µ–π –∏–∑ tsconfig.json).  
### -d src/ormdatasource.ts —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DataSource.  
```bash
" npm run typeorm": "ts-node -r tsconfig-paths/register ./node_modules/typeorm/cli.js -d src/ormdatasource.ts",
```

## –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
### –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è–µ—Ç —Å—Ö–µ–º—É –±–∞–∑—ã: –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã, —Å–≤—è–∑–∏ –∏ –¥–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç.
### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤.
#### –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã, —Ç.–µ. —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ö–µ–º—É (schema:drop).  
#### –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ –±–∞–∑—ã.  
```bash
" npm run db:drop": "npm run typeorm schema:drop",
```
#### * ‚ùå –£–¥–∞–ª—è–µ—Ç –≤—Å—é —Å—Ö–µ–º—É.
#### * ‚ö†Ô∏è –û–ø–∞—Å–Ω–æ: –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, —Ç–æ–ª—å–∫–æ –≤ dev/test.
#### * üí° –ß–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

## –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –∏–∑ Entity
### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ –≤ –≤–∞—à–∏—Ö Entity.
### –°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª—è, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–¥–µ–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ö–µ–º—É.
#### –°–æ–∑–¥–∞—ë—Ç —Å—Ö–µ–º—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–∏—Ö Entity (schema:sync).  
#### –í–Ω–∏–º–∞–Ω–∏–µ: –Ω–∞–ø—Ä—è–º—É—é –∏–∑–º–µ–Ω—è–µ—Ç –±–∞–∑—É, –Ω–æ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.  
```bash
" npm run db:create": "npm run typeorm schema:sync",
```
#### * üèóÔ∏è –°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –ø–æ –º–æ–¥–µ–ª—è–º.
#### * ‚ö†Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –ø–∏—à—É—Ç—Å—è –≤ –±–∞–∑—É, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è.
#### * –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—ã—á–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º–æ–π –±–∞–∑—ã –∏ Entity –≤ –∫–æ–¥–µ.
### –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ —Å SQL-–∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.
#### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Entity.  
#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ —Å SQL-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.  
#### Nado  —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ migrations - papke qde vse migracii i ukazat nazvanie fayla dla migracii, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```bash
" npm run migration:generate src/migrations/CreateTags": "npm run typeorm migration:generate",
```
#### ‚úçÔ∏è –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å —É–∫–∞–∑–∞–Ω–∏–µ–º UP –∏ DOWN –æ–ø–µ—Ä–∞—Ü–∏–π).
#### üìÇ –û–±—ã—á–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É src/migrations.
#### ‚úÖ –ù—É–∂–µ–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ö–µ–º–µ.

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
### –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏.
### –û–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–¥—É.
#### –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –µ—â—ë –Ω–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.  
#### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.  
```bash
" npm run migration:run": "npm run typeorm migration:run",
```
#### ‚ñ∂Ô∏è –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL-–∫–æ–º–∞–Ω–¥—ã –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.
#### –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ö–µ–º—É, —Å–æ—Ö—Ä–∞–Ω—è—è –¥–∞–Ω–Ω—ã–µ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç db:drop).
#### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CI/CD –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.

## –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
### –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–∑—É –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏.
### –ü–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –æ—Ç–∫–∞—Ç–∞—Ö –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞.
#### –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é.  
#### –£–¥–æ–±–Ω–æ, –µ—Å–ª–∏ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—à–∏–±–∫–∞ –∏–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –±–∞–∑—É –≤ –ø—Ä–æ—à–ª–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.  
```bash
" npm run migration:revert": "npm run typeorm migration:revert"
```
#### ‚è™ –û—Ç–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é.
#### –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥, —á—Ç–æ–±—ã –æ—Ç–∫–∞—Ç–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –º–∏–≥—Ä–∞—Ü–∏–π.
#### ‚ö†Ô∏è –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ: –æ—Ç–∫–∞—Ç —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–µ–π.


## –†–∞–±–æ—á–∏–π —Ü–∏–∫–ª –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
## –í –Ω–∞—á–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî db:create –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ Entity.
## –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Entity ‚Äî migration:generate –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–∏–≥—Ä–∞—Ü–∏–∏.
## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑–µ ‚Äî migration:run.
## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äî migration:revert.
## –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã ‚Äî db:drop ‚Üí db:create ‚Üí migration:run.